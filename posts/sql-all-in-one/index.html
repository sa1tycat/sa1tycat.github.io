<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="SQL一次通" /><meta name="author" content="saltycat" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="Manipulation" /><meta property="og:description" content="Manipulation" /><link rel="canonical" href="/posts/sql-all-in-one/" /><meta property="og:url" content="/posts/sql-all-in-one/" /><meta property="og:site_name" content="sa1tycat" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-08-01T19:49:11+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="SQL一次通" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@saltycat" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"saltycat"},"dateModified":"2022-08-01T19:49:11+08:00","datePublished":"2022-08-01T19:49:11+08:00","description":"Manipulation","headline":"SQL一次通","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/sql-all-in-one/"},"url":"/posts/sql-all-in-one/"}</script><title>SQL一次通 | sa1tycat</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="sa1tycat"><meta name="application-name" content="sa1tycat"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/config/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">sa1tycat</a></div><div class="site-subtitle font-italic">welcome, whatever</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/sa1tycat" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>SQL一次通</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>SQL一次通</h1><div class="post-meta text-muted"><div> 作者 <em> saltycat </em></div><div class="d-flex"><div> <span> 发表于 <em class="timeago" data-ts="1659354551" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-08-01 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2082 字"> <em>11 分钟</em>阅读</span></div></div></div><div class="post-content"><h2 id="manipulation"><span class="mr-2">Manipulation</span><a href="#manipulation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="column-constraints"><span class="mr-2">Column Constraints</span><a href="#column-constraints" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Column constraints are the rules applied to the values of individual columns:</p><ul><li><code class="language-plaintext highlighter-rouge">PRIMARY KEY</code> constraint can be used to uniquely identify the row.<li><code class="language-plaintext highlighter-rouge">UNIQUE</code> columns have a different value for every row.<li><code class="language-plaintext highlighter-rouge">NOT NULL</code> columns must have a value.<li><code class="language-plaintext highlighter-rouge">DEFAULT</code> assigns a default value for the column when no value is specified.</ul><p>There can be only one <code class="language-plaintext highlighter-rouge">PRIMARY KEY</code> column per table and multiple <code class="language-plaintext highlighter-rouge">UNIQUE</code> columns.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">student</span> <span class="p">(</span>
  <span class="n">id</span> <span class="nb">INTEGER</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
  <span class="n">name</span> <span class="nb">TEXT</span> <span class="k">UNIQUE</span><span class="p">,</span>
  <span class="n">grade</span> <span class="nb">INTEGER</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">age</span> <span class="nb">INTEGER</span> <span class="k">DEFAULT</span> <span class="mi">10</span>
<span class="p">);</span>
</pre></table></code></div></div><h3 id="create-table-statement"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">CREATE TABLE</code> Statement</span><a href="#create-table-statement" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">CREATE TABLE</code> statement creates a new table in a database. It allows one to specify the name of the table and the name of each column in the table.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="k">table_name</span> <span class="p">(</span>
  <span class="n">column1</span> <span class="n">datatype</span><span class="p">,</span>
  <span class="n">column2</span> <span class="n">datatype</span><span class="p">,</span>
  <span class="n">column3</span> <span class="n">datatype</span>
<span class="p">);</span>
</pre></table></code></div></div><h3 id="insert-statement"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">INSERT</code> Statement</span><a href="#insert-statement" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">INSERT INTO</code> statement is used to add a new record (row) to a table.</p><p>It has two forms as shown:</p><ul><li>Insert into columns in order.<li>Insert into columns by name.</ul><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="c1">-- Insert into columns in order:</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="k">table_name</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="n">value2</span><span class="p">);</span>
 
<span class="c1">-- Insert into columns by name:</span>
<span class="k">INSERT</span> <span class="k">INTO</span> <span class="k">table_name</span> <span class="p">(</span><span class="n">column1</span><span class="p">,</span> <span class="n">column2</span><span class="p">)</span>
<span class="k">VALUES</span> <span class="p">(</span><span class="n">value1</span><span class="p">,</span> <span class="n">value2</span><span class="p">);</span>
</pre></table></code></div></div><h3 id="alter-table-statement"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">ALTER TABLE</code> Statement</span><a href="#alter-table-statement" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">ALTER TABLE</code> statement is used to modify the columns of an existing table. When combined with the <code class="language-plaintext highlighter-rouge">ADD COLUMN</code> clause, it is used to add a new column.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">ALTER</span> <span class="k">TABLE</span> <span class="k">table_name</span>
<span class="k">ADD</span> <span class="k">column_name</span> <span class="n">datatype</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="delete-statement"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">DELETE</code> Statement</span><a href="#delete-statement" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">DELETE</code> statement is used to delete records (rows) in a table. The <code class="language-plaintext highlighter-rouge">WHERE</code> clause specifies which record or records that should be deleted. If the <code class="language-plaintext highlighter-rouge">WHERE</code> clause is omitted, all records will be deleted.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">DELETE</span> <span class="k">FROM</span> <span class="k">table_name</span>
<span class="k">WHERE</span> <span class="n">some_column</span> <span class="o">=</span> <span class="n">some_value</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="update-statement"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">UPDATE</code> Statement</span><a href="#update-statement" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">UPDATE</code> statement is used to edit records (rows) in a table. It includes a <code class="language-plaintext highlighter-rouge">SET</code> clause that indicates the column to edit and a <code class="language-plaintext highlighter-rouge">WHERE</code> clause for specifying the record(s).</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">UPDATE</span> <span class="k">table_name</span>
<span class="k">SET</span> <span class="n">column1</span> <span class="o">=</span> <span class="n">value1</span><span class="p">,</span> <span class="n">column2</span> <span class="o">=</span> <span class="n">value2</span>
<span class="k">WHERE</span> <span class="n">some_column</span> <span class="o">=</span> <span class="n">some_value</span><span class="p">;</span>
</pre></table></code></div></div><h2 id="queries"><span class="mr-2">Queries</span><a href="#queries" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="and-operator"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">AND</code> Operator</span><a href="#and-operator" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">AND</code> operator allows multiple conditions to be combined. Records must match both conditions that are joined by <code class="language-plaintext highlighter-rouge">AND</code> to be included in the result set. The given query will match any car that is blue and made after 2014.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">model</span> 
<span class="k">FROM</span> <span class="n">cars</span> 
<span class="k">WHERE</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">'blue'</span> 
  <span class="k">AND</span> <span class="nb">year</span> <span class="o">&gt;</span> <span class="mi">2014</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="as-clause"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">AS</code> Clause</span><a href="#as-clause" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Columns or tables can be aliased using the <code class="language-plaintext highlighter-rouge">AS</code> clause. This allows columns or tables to be specifically renamed in the returned result set. The given query will return a result set with the column for <code class="language-plaintext highlighter-rouge">name</code> renamed to <code class="language-plaintext highlighter-rouge">movie_title</code>.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">name</span> <span class="k">AS</span> <span class="s1">'movie_title'</span>
<span class="k">FROM</span> <span class="n">movies</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="or-operator"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">OR</code> Operator</span><a href="#or-operator" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">OR</code> operator allows multiple conditions to be combined. Records matching either condition joined by the <code class="language-plaintext highlighter-rouge">OR</code> are included in the result set. The given query will match customers whose state is either <code class="language-plaintext highlighter-rouge">'CA'</code> or <code class="language-plaintext highlighter-rouge">'NY'</code>.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">name</span>
<span class="k">FROM</span> <span class="n">customers</span> 
<span class="k">WHERE</span> <span class="k">state</span> <span class="o">=</span> <span class="s1">'CA'</span> 
   <span class="k">OR</span> <span class="k">state</span> <span class="o">=</span> <span class="s1">'NY'</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="-wildcard"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">%</code> Wildcard</span><a href="#-wildcard" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">%</code> wildcard can be used in a <code class="language-plaintext highlighter-rouge">LIKE</code> operator pattern to match zero or more unspecified character(s). The given query will match any movie that begins with <code class="language-plaintext highlighter-rouge">The</code>, followed by zero or more of any characters.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">name</span>
<span class="k">FROM</span> <span class="n">movies</span>
<span class="k">WHERE</span> <span class="n">name</span> <span class="k">LIKE</span> <span class="s1">'The%'</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="select-statement"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">SELECT</code> Statement</span><a href="#select-statement" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">SELECT *</code> statement returns all columns from the provided table in the result set. The given query will fetch all columns and records (rows) from the <code class="language-plaintext highlighter-rouge">movies</code> table.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">movies</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="_-wildcard"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">_</code> Wildcard</span><a href="#_-wildcard" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">_</code> wildcard can be used in a <code class="language-plaintext highlighter-rouge">LIKE</code> operator pattern to match any single unspecified character. The given query will match any movie which begins with a single character, followed by <code class="language-plaintext highlighter-rouge">ove</code>.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">name</span>
<span class="k">FROM</span> <span class="n">movies</span>
<span class="k">WHERE</span> <span class="n">name</span> <span class="k">LIKE</span> <span class="s1">'_ove'</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="order-by-clause"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">ORDER BY</code> Clause</span><a href="#order-by-clause" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">ORDER BY</code> clause can be used to sort the result set by a particular column either alphabetically or numerically. It can be ordered in two ways:</p><ul><li><code class="language-plaintext highlighter-rouge">DESC</code> is a keyword used to sort the results in descending order.<li><code class="language-plaintext highlighter-rouge">ASC</code> is a keyword used to sort the results in ascending order (default).</ul><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">contacts</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">birth_date</span> <span class="k">DESC</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="like-operator"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">LIKE</code> Operator</span><a href="#like-operator" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">LIKE</code> operator can be used inside of a <code class="language-plaintext highlighter-rouge">WHERE</code> clause to match a specified pattern. The given query will match any movie that begins with <code class="language-plaintext highlighter-rouge">Star</code> in its title.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">name</span>
<span class="k">FROM</span> <span class="n">movies</span>
<span class="k">WHERE</span> <span class="n">name</span> <span class="k">LIKE</span> <span class="s1">'Star%'</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="distinct-clause"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">DISTINCT</code> Clause</span><a href="#distinct-clause" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Unique values of a column can be selected using a <code class="language-plaintext highlighter-rouge">DISTINCT</code> query. For a table <code class="language-plaintext highlighter-rouge">contact_details</code> having five rows in which the <code class="language-plaintext highlighter-rouge">city</code> column contains Chicago, Madison, Boston, Madison, and Denver, the given query would return:</p><ul><li><code class="language-plaintext highlighter-rouge">Chicago</code><li><code class="language-plaintext highlighter-rouge">Madison</code><li><code class="language-plaintext highlighter-rouge">Boston</code><li><code class="language-plaintext highlighter-rouge">Denver</code></ul><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="k">DISTINCT</span> <span class="n">city</span>
<span class="k">FROM</span> <span class="n">contact_details</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="between-operator"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">BETWEEN</code> Operator</span><a href="#between-operator" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">BETWEEN</code> operator can be used to filter by a range of values. The range of values can be text, numbers, or date data. The given query will match any movie made between the years 1980 and 1990, inclusive.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">movies</span>
<span class="k">WHERE</span> <span class="nb">year</span> <span class="k">BETWEEN</span> <span class="mi">1980</span> <span class="k">AND</span> <span class="mi">1990</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="limit-clause"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">LIMIT</code> Clause</span><a href="#limit-clause" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">LIMIT</code> clause is used to narrow, or limit, a result set to the specified number of rows. The given query will limit the result set to 5 rows.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">movies</span>
<span class="k">LIMIT</span> <span class="mi">5</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="null-values"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">NULL</code> Values</span><a href="#null-values" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Column values can be <code class="language-plaintext highlighter-rouge">NULL</code>, or have no value. These records can be matched (or not matched) using the <code class="language-plaintext highlighter-rouge">IS NULL</code> and <code class="language-plaintext highlighter-rouge">IS NOT NULL</code> operators in combination with the <code class="language-plaintext highlighter-rouge">WHERE</code> clause. The given query will match all addresses where the address has a value or is not <code class="language-plaintext highlighter-rouge">NULL</code>.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">address</span>
<span class="k">FROM</span> <span class="n">records</span>
<span class="k">WHERE</span> <span class="n">address</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="where-clause"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">WHERE</code> Clause</span><a href="#where-clause" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">WHERE</code> clause is used to filter records (rows) that match a certain condition. The given query will select all records where the <code class="language-plaintext highlighter-rouge">pub_year</code> equals <code class="language-plaintext highlighter-rouge">2017</code>.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">title</span>
<span class="k">FROM</span> <span class="n">library</span>
<span class="k">WHERE</span> <span class="n">pub_year</span> <span class="o">=</span> <span class="mi">2017</span><span class="p">;</span>
</pre></table></code></div></div><h2 id="aggregate-functions"><span class="mr-2">Aggregate Functions</span><a href="#aggregate-functions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="column-references"><span class="mr-2">Column References</span><a href="#column-references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">GROUP BY</code> and <code class="language-plaintext highlighter-rouge">ORDER BY</code> clauses can reference the selected columns by number in which they appear in the <code class="language-plaintext highlighter-rouge">SELECT</code> statement. The example query will count the number of movies per rating, and will:</p><ul><li><code class="language-plaintext highlighter-rouge">GROUP BY</code> column <code class="language-plaintext highlighter-rouge">2</code> (<code class="language-plaintext highlighter-rouge">rating</code>)<li><code class="language-plaintext highlighter-rouge">ORDER BY</code> column <code class="language-plaintext highlighter-rouge">1</code> (<code class="language-plaintext highlighter-rouge">total_movies</code>)</ul><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="s1">'total_movies'</span><span class="p">,</span> 
   <span class="n">rating</span> 
<span class="k">FROM</span> <span class="n">movies</span> 
<span class="k">GROUP</span> <span class="k">BY</span> <span class="mi">2</span> 
<span class="k">ORDER</span> <span class="k">BY</span> <span class="mi">1</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="sum-aggregate-function"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">SUM()</code> Aggregate Function</span><a href="#sum-aggregate-function" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">SUM()</code> aggregate function takes the name of a column as an argument and returns the sum of all the value in that column.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">salary_disbursement</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="max-aggregate-function"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">MAX()</code> Aggregate Function</span><a href="#max-aggregate-function" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">MAX()</code> aggregate function takes the name of a column as an argument and returns the largest value in a column. The given query will return the largest value from the <code class="language-plaintext highlighter-rouge">amount</code> column.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">transactions</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="count-aggregate-function"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">COUNT()</code> Aggregate Function</span><a href="#count-aggregate-function" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">COUNT()</code> aggregate function returns the total number of rows that match the specified criteria. For instance, to find the total number of employees who have less than 5 years of experience, the given query can be used.</p><p><strong>Note:</strong> A column name of the table can also be used instead of <code class="language-plaintext highlighter-rouge">*</code>. Unlike <code class="language-plaintext highlighter-rouge">COUNT(*)</code>, this variation <code class="language-plaintext highlighter-rouge">COUNT(column)</code> will not count <code class="language-plaintext highlighter-rouge">NULL</code> values in that column.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">experience</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="group-by-clause"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">GROUP BY</code> Clause</span><a href="#group-by-clause" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">GROUP BY</code> clause will group records in a result set by identical values in one or more columns. It is often used in combination with aggregate functions to query information of similar records. The <code class="language-plaintext highlighter-rouge">GROUP BY</code> clause can come after <code class="language-plaintext highlighter-rouge">FROM</code> or <code class="language-plaintext highlighter-rouge">WHERE</code> but must come before any <code class="language-plaintext highlighter-rouge">ORDER BY</code> or <code class="language-plaintext highlighter-rouge">LIMIT</code> clause.</p><p>The given query will count the number of movies per rating.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">rating</span><span class="p">,</span> 
   <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">movies</span> 
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">rating</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="min-aggregate-function"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">MIN()</code> Aggregate Function</span><a href="#min-aggregate-function" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">MIN()</code> aggregate function returns the smallest value in a column. For instance, to find the smallest value of the <code class="language-plaintext highlighter-rouge">amount</code> column from the table named <code class="language-plaintext highlighter-rouge">transactions</code>, the given query can be used.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="k">MIN</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">transactions</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="avg-aggregate-function"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">AVG()</code> Aggregate Function</span><a href="#avg-aggregate-function" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">AVG()</code> aggregate function returns the average value in a column. For instance, to find the average <code class="language-plaintext highlighter-rouge">salary</code> for the employees who have less than 5 years of experience, the given query can be used.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="k">AVG</span><span class="p">(</span><span class="n">salary</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">employees</span>
<span class="k">WHERE</span> <span class="n">experience</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="having-clause"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">HAVING</code> Clause</span><a href="#having-clause" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">HAVING</code> clause is used to further filter the result set groups provided by the <code class="language-plaintext highlighter-rouge">GROUP BY</code> clause. <code class="language-plaintext highlighter-rouge">HAVING</code> is often used with aggregate functions to filter the result set groups based on an aggregate property. The given query will select only the records (rows) from only years where more than 5 movies were released per year.</p><p>The <code class="language-plaintext highlighter-rouge">HAVING</code> clause must always come after a <code class="language-plaintext highlighter-rouge">GROUP BY</code> clause but must come before any <code class="language-plaintext highlighter-rouge">ORDER BY</code> or <code class="language-plaintext highlighter-rouge">LIMIT</code> clause.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="nb">year</span><span class="p">,</span> 
   <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">movies</span> 
<span class="k">GROUP</span> <span class="k">BY</span> <span class="nb">year</span>
<span class="k">HAVING</span> <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="aggregate-functions-1"><span class="mr-2">Aggregate Functions</span><a href="#aggregate-functions-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>Aggregate functions perform a calculation on a set of values and return a single value:</p><ul><li><code class="language-plaintext highlighter-rouge">COUNT()</code><li><code class="language-plaintext highlighter-rouge">SUM()</code><li><code class="language-plaintext highlighter-rouge">MAX()</code><li><code class="language-plaintext highlighter-rouge">MIN()</code><li><code class="language-plaintext highlighter-rouge">AVG()</code></ul><h3 id="round-function"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">ROUND()</code> Function</span><a href="#round-function" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">ROUND()</code> function will round a number value to a specified number of places. It takes two arguments: a number, and a number of decimal places. It can be combined with other aggregate functions, as shown in the given query. This query will calculate the average rating of movies from 2015, rounding to 2 decimal places.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="nb">year</span><span class="p">,</span> 
   <span class="n">ROUND</span><span class="p">(</span><span class="k">AVG</span><span class="p">(</span><span class="n">rating</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span> 
<span class="k">FROM</span> <span class="n">movies</span> 
<span class="k">WHERE</span> <span class="nb">year</span> <span class="o">=</span> <span class="mi">2015</span><span class="p">;</span>
</pre></table></code></div></div><h2 id="multiple-tables"><span class="mr-2">Multiple Tables</span><a href="#multiple-tables" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><h3 id="outer-join"><span class="mr-2">Outer Join</span><a href="#outer-join" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>An outer join will combine rows from different tables even if the join condition is not met. In a <code class="language-plaintext highlighter-rouge">LEFT JOIN</code>, every row in the <em>left</em> table is returned in the result set, and if the join condition is not met, then <code class="language-plaintext highlighter-rouge">NULL</code> values are used to fill in the columns from the <em>right</em> table.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="k">column_name</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">table1</span>
<span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">table2</span>
  <span class="k">ON</span> <span class="n">table1</span><span class="p">.</span><span class="k">column_name</span> <span class="o">=</span> <span class="n">table2</span><span class="p">.</span><span class="k">column_name</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="with-clause"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">WITH</code> Clause</span><a href="#with-clause" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">WITH</code> clause stores the result of a query in a temporary table (<code class="language-plaintext highlighter-rouge">temporary_movies</code>) using an alias.</p><p>Multiple temporary tables can be defined with one instance of the <code class="language-plaintext highlighter-rouge">WITH</code> keyword.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">WITH</span> <span class="n">temporary_movies</span> <span class="k">AS</span> <span class="p">(</span>
   <span class="k">SELECT</span> <span class="o">*</span>
   <span class="k">FROM</span> <span class="n">movies</span>
<span class="p">)</span>
<span class="k">SELECT</span> <span class="o">*</span>
<span class="k">FROM</span> <span class="n">temporary_movies</span>
<span class="k">WHERE</span> <span class="nb">year</span> <span class="k">BETWEEN</span> <span class="mi">2000</span> <span class="k">AND</span> <span class="mi">2020</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="union-clause"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">UNION</code> Clause</span><a href="#union-clause" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">UNION</code> clause is used to combine results that appear from multiple <code class="language-plaintext highlighter-rouge">SELECT</code> statements and filter duplicates.</p><p>For example, given a <code class="language-plaintext highlighter-rouge">first_names</code> table with a column <code class="language-plaintext highlighter-rouge">name</code> containing rows of data “James” and “Hermione”, and a <code class="language-plaintext highlighter-rouge">last_names</code> table with a column <code class="language-plaintext highlighter-rouge">name</code> containing rows of data “James”, “Hermione” and “Cassidy”, the result of this query would contain three <code class="language-plaintext highlighter-rouge">name</code>s: “Cassidy”, “James”, and “Hermione”.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">name</span>
<span class="k">FROM</span> <span class="n">first_names</span>
<span class="k">UNION</span>
<span class="k">SELECT</span> <span class="n">name</span>
<span class="k">FROM</span> <span class="n">last_names</span>
</pre></table></code></div></div><h3 id="cross-join-clause"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">CROSS JOIN</code> Clause</span><a href="#cross-join-clause" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">CROSS JOIN</code> clause is used to combine each row from one table with each row from another in the result set. This <code class="language-plaintext highlighter-rouge">JOIN</code> is helpful for creating all possible combinations for the records (rows) in two tables.</p><p>The given query will select the <code class="language-plaintext highlighter-rouge">shirt_color</code> and <code class="language-plaintext highlighter-rouge">pants_color</code> columns from the result set, which will contain all combinations of combining the rows in the <code class="language-plaintext highlighter-rouge">shirts</code> and <code class="language-plaintext highlighter-rouge">pants</code> tables. If there are 3 different shirt colors in the <code class="language-plaintext highlighter-rouge">shirts</code> table and 5 different pants colors in the <code class="language-plaintext highlighter-rouge">pants</code> table then the result set will contain 3 x 5 = 15 rows.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="n">shirts</span><span class="p">.</span><span class="n">shirt_color</span><span class="p">,</span>
   <span class="n">pants</span><span class="p">.</span><span class="n">pants_color</span>
<span class="k">FROM</span> <span class="n">shirts</span>
<span class="k">CROSS</span> <span class="k">JOIN</span> <span class="n">pants</span><span class="p">;</span>
</pre></table></code></div></div><h3 id="foreign-key"><span class="mr-2">Foreign Key</span><a href="#foreign-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>A <em>foreign key</em> is a reference in one table’s records to the primary key of another table. To maintain multiple records for a specific row, the use of foreign key plays a vital role. For instance, to track all the orders of a specific customer, the table <code class="language-plaintext highlighter-rouge">order</code> (illustrated at the bottom of the image) can contain a foreign key.</p><p><img data-src="/../sa1tycat.github.io/assets/blog_res/2022-08-01-sql-all-in-one.assets/foreign-key.png" alt="foreign key" data-proofer-ignore></p><h3 id="primary-key"><span class="mr-2">Primary Key</span><a href="#primary-key" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>A <em>primary key</em> column in a SQL table is used to uniquely identify each record in that table. A primary key cannot be <code class="language-plaintext highlighter-rouge">NULL</code>. In the example, <code class="language-plaintext highlighter-rouge">customer_id</code> is the primary key. The same value cannot re-occur in a primary key column. Primary keys are often used in <code class="language-plaintext highlighter-rouge">JOIN</code> operations.</p><p><img data-src="/../sa1tycat.github.io/assets/blog_res/2022-08-01-sql-all-in-one.assets/primary_key.png" alt="primary key" data-proofer-ignore></p><h3 id="inner-join"><span class="mr-2">Inner Join</span><a href="#inner-join" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>The <code class="language-plaintext highlighter-rouge">JOIN</code> clause allows for the return of results from more than one table by joining them together with other results based on common column values specified using an <code class="language-plaintext highlighter-rouge">ON</code> clause. <code class="language-plaintext highlighter-rouge">INNER JOIN</code> is the default <code class="language-plaintext highlighter-rouge">JOIN</code> and it will only return results matching the condition specified by <code class="language-plaintext highlighter-rouge">ON</code>.</p><div class="language-sql highlighter-rouge"><div class="code-header"> <span data-label-text="Sql"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="k">SELECT</span> <span class="o">*</span> 
<span class="k">FROM</span> <span class="n">books</span>
<span class="k">JOIN</span> <span class="n">authors</span>
  <span class="k">ON</span> <span class="n">books</span><span class="p">.</span><span class="n">author_id</span> <span class="o">=</span> <span class="n">authors</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/ctf/'>CTF</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/sql/" class="post-tag no-text-decoration" >SQL</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=SQL%E4%B8%80%E6%AC%A1%E9%80%9A+-+sa1tycat&url=%2Fposts%2Fsql-all-in-one%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=SQL%E4%B8%80%E6%AC%A1%E9%80%9A+-+sa1tycat&u=%2Fposts%2Fsql-all-in-one%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=%2Fposts%2Fsql-all-in-one%2F&text=SQL%E4%B8%80%E6%AC%A1%E9%80%9A+-+sa1tycat" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/test/">test</a><li><a href="/posts/stack-combinatory/">1，2，3，4 依次入栈的出栈排列问题</a><li><a href="/posts/time-complexity/">时间复杂度</a><li><a href="/posts/binary-exponentiation/">快速幂</a><li><a href="/posts/html-all-in-one/">HTML一次通</a></ul></div><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E5%9B%BE%E8%AE%BA/">图论</a> <a class="post-tag" href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/">字符串</a> <a class="post-tag" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/">并查集</a> <a class="post-tag" href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/">最短路</a> <a class="post-tag" href="/tags/%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA/">格式化输出</a> <a class="post-tag" href="/tags/css/">CSS</a> <a class="post-tag" href="/tags/dfs/">DFS</a> <a class="post-tag" href="/tags/html/">HTML</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/jquery/">jQuery</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/html-all-in-one/"><div class="card-body"> <em class="timeago small" data-ts="1659058545" > 2022-07-29 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>HTML一次通</h3><div class="text-muted small"><p> Elements and Structure HTML HTML (HyperText Markup Language) is used to give content to a web page and instructs web browsers on how to structure that content. Element Content The content of an...</p></div></div></a></div><div class="card"> <a href="/posts/javascript-all-in-one/"><div class="card-body"> <em class="timeago small" data-ts="1659352893" > 2022-08-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JavaScript一次通</h3><div class="text-muted small"><p> Introduction console.log() The console.log() method is used to log or print messages to the console. It can also be used to print objects and other info. console.log(&#39;Hi there!&#39;); // Prints: Hi ...</p></div></div></a></div><div class="card"> <a href="/posts/css-all-in-one/"><div class="card-body"> <em class="timeago small" data-ts="1659353941" > 2022-08-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>CSS一次通</h3><div class="text-muted small"><p> Snytax and Selectors &amp;lt;link&amp;gt; Link Element The &amp;lt;link&amp;gt; element is used to link HTML documents to external resources like CSS files. It commonly uses: href attribute to specify the UR...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/jquery-all-in-one/" class="btn btn-outline-primary" prompt="上一篇"><p>jQuery一次通</p></a> <a href="/posts/binary-exponentiation/" class="btn btn-outline-primary" prompt="下一篇"><p>快速幂</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/username">saltycat</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E5%9B%BE%E8%AE%BA/">图论</a> <a class="post-tag" href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/">字符串</a> <a class="post-tag" href="/tags/%E5%B9%B6%E6%9F%A5%E9%9B%86/">并查集</a> <a class="post-tag" href="/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/">最短路</a> <a class="post-tag" href="/tags/%E6%A0%BC%E5%BC%8F%E5%8C%96%E8%BE%93%E5%87%BA/">格式化输出</a> <a class="post-tag" href="/tags/css/">CSS</a> <a class="post-tag" href="/tags/dfs/">DFS</a> <a class="post-tag" href="/tags/html/">HTML</a> <a class="post-tag" href="/tags/javascript/">JavaScript</a> <a class="post-tag" href="/tags/jquery/">jQuery</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
