---
title: C语言输出格式控制符
author: saltycat
date: 2022-04-07 20:51:12 +0800
categories: []
tags: []
math: true
comments: true
mermaid: true
typora-root-url: ../../sa1tycat.github.io

---

## 控制符通用格式

其格式为 `"%[标志] [输出最小宽度] [.精度] [长度] 类型"`

常见的 `"%.2lf"` 、`"%5d"` 等都是其中的一种。

## 标志位

| 标 志 | 意义 <div style="width: 180pt">                                                          |
| ----- | ---------------------------------------------------- |
| -     | 结果左对齐，右边填空格                                       |
| +     | 输出符号(正号或负号)                                         |
| 空格  | 输出值为正时冠以空格，为负时冠以负号                         |
| #     | 对c（字符）、s（字符串）、d（十进制有符号整型）、u（十进制无符号整型）类无影响； 对o（八进制无符号整型）类，在输出时加前缀o； 对x（十六进制无符号整型）类，在输出时加前缀0x； 对e（指数形式输出小数）、g（以%f、%e两者较短输出宽度的输出）、f（小数形式输出小数） 类当结果有小数时才给出小数点。 |

示例如下：

```c++
int a=-123, b=123;
printf("%-7d%+d", a, a);
```

输出结果如下：

```output
-123   -123
```

```c++
int a=-123,b=123;
printf("% d %#x",a,b);
```

```output
-123 0x7b
```

## 输出最小宽度

用十进制整数来表示输出的最少位数。若实际位数多于定义的宽度，则按实际位数输出，若实际位数少于定义的宽度则补以空格或0。

若实际宽度大于定义宽度，则按实际宽度输出。

## .精度

精度格式符以“.”开头，后跟十进制整数。
作用为：

- 如果输出数字，则表示小数的位数；
- 如果输出的是字符，则表示输出字符的个数；
- 若实际位数大于所定义的精度数，则截去超过的部分。

## 长度

长度格式符为h、l两种，h表示按短整型量输出，l表示按长整型量输出。

```c++
long int a = 270000000;
printf("long int = %d;int = %d.\n",sizeof(long int),sizeof(int));
printf("|%d|%d|%d|\n",a,a,a);
printf("|%hd|%ld|%d|",a,a,a);
/*******输出结果*******
long int = 4;int = 4.
|270000000|270000000|270000000|
|-8320|270000000|270000000|    //短整型时出错了
*********************/
```

## 类型

类型字符用以表示输出数据的类型，其格式符和意义如下表所示：

| 格式字符 | 意义                                       |
| -------- | ------------------------------------------ |
| d        | 以十进制形式输出带符号整数(正数不输出符号) |
| o        | 以八进制形式输出无符号整数(不输出前缀0)    |
| x,X      | 以十六进制形式输出无符号整数(不输出前缀Ox) |
| u        | 以十进制形式输出无符号整数                 |
| f        | 以小数形式输出单、双精度实数               |
| e,E      | 以指数形式输出单、双精度实数               |
| g,G      | 以%f或%e中较短的输出宽度输出单、双精度实数 |
| c        | 输出单个字符                               |
| s        | 输出字符串                                 |
